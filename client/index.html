<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/images/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>e-INRAB</title>
    <!-- Script KkiaPay Sandbox -->
    <script src="https://sandbox.kkiapay.me/k.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
    
    <!-- Bouton de paiement (à adapter dans React si nécessaire) -->
    <button onclick="initierPaiement()">Payer avec KkiaPay</button>
    
    <script>
      function initierPaiement() {
        // Récupérer dynamiquement ces valeurs depuis React si nécessaire
        const commandeId = 1; // Exemple : ID de la commande depuis votre state
        const montant = 250; // Montant en XOF depuis votre base de données
        
        Kkiapay.init({
          api_key: "VOTRE_PUBLIC_KEY_SANDBOX", // Clé Sandbox
          amount: montant,
          phone: "61000000", // Numéro de test Sandbox
          callback: "http://localhost:8000/api/callback", // Endpoint Laravel/Node.js
          data: JSON.stringify({ commande_id: commandeId }), // Transmettre l'ID de la commande
        });
      }
    </script>
  </body>
</html>